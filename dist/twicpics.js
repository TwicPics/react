!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["@twicpics/react"]=e(require("react")):t["@twicpics/react"]=e(t.react)}(this,(function(t){return(()=>{var e={703:(t,e,r)=>{"use strict";var n=r(414);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},697:(t,e,r)=>{t.exports=r(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},297:e=>{"use strict";e.exports=t}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{TwicPics:()=>j,Twicpics:()=>w,default:()=>T});var t=n(697),e=n.n(t),r=n(297),i=n.n(r);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f,d,y,m=(d=/\/\?v1&?/,y=/(?:^|&)class=([^&]+)(?:$|&)/,function(){if(!f){var t=l(document.querySelector('script[data-id="twicpics-script"]').src.split(d),2),e=t[0],r=t[1],n=y.exec(r);f={domain:e,class:n&&n[1]||"twic"}}return f}),v=/\/([^/?#.]+)[^/?#]*(?:[?#].*)?$/,b=/^\//,h=function(t){var e,r,n,o,c=m(),p=t.height,f=t.mode,d=t.src,y=t.transition,h=t.transitionDelay,g=t.transitionDuration,O=t.transitionTimingFunction,w=t.width,j=t.ratio?t.ratio.split("/"):w&&p?[w,p]:[1,1],T=j.join(":"),P="cover"===f,S=P?"center":t.position,x=P&&t.focus||void 0,E="".concat(f,"=").concat(P?T:function(t){var e=l(t,2),r=e[0],n=e[1],o=r*n;if(o<12e3){var i=Math.ceil(12e3/o);r*=i,n*=i}return"".concat(r,"x").concat(n)}(j));return i().createElement("div",{className:"twic-img ".concat(y?"twic-img--fade":""),style:(n={backgroundPosition:S,backgroundSize:f,paddingTop:"".concat((100*j[1]/j[0]).toFixed(10),"%")},o="none"!==t.placeholder&&t.placeholder,o&&(n.backgroundImage="url(".concat(b.test(d)?"".concat(c.domain).concat(d):"".concat(c.domain,"/").concat(d),"?twic=v1").concat(x?"/focus=".concat(x):"","/").concat(E,"/output=").concat(o,")")),n)},i().createElement("img",a({style:s({objectFit:f,objectPosition:S},y?{transitionDelay:h,transitionDuration:g,transitionTimingFunction:O}:{}),alt:t.alt||(r=v.exec(d),r&&r[1]||"image"),src:"".concat(c.domain,"/v1/").concat(E,"/placeholder:transparent"),width:w||void 0,height:p||void 0},(u(e={},"data-".concat(c.class,"-src"),"image:".concat(d)),u(e,"data-".concat(c.class,"-src-focus"),x),u(e,"data-".concat(c.class,"-src-step"),t.step),e))))};h.defaultProps={alt:void 0,focus:void 0,height:void 0,mode:"cover",placeholder:"preview",position:"center",ratio:void 0,step:void 0,transition:!0,transitionDelay:void 0,transitionDuration:void 0,transitionTimingFunction:void 0,width:void 0},h.propTypes={alt:e().string,focus:e().string,height:e().oneOfType([e().string,e().number]),mode:e().oneOf(["contain","cover"]),placeholder:e().oneOf(["preview","meancolor","maincolor","none"]),position:e().string,ratio:e().string,src:e().string.isRequired,step:e().oneOfType([e().string,e().number]),transition:e().bool,transitionDuration:e().string,transitionTimingFunction:e().string,transitionDelay:e().string,width:e().oneOfType([e().string,e().number])};function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w=function(t){var e=t.domain,r=t.defaultParams;if("undefined"!=typeof window){var n=["".concat(e,"/?v1")],o="twic";r&&Object.entries(r).forEach((function(t){var e=g(t,2),r=e[0],i=e[1];null!=i&&("maxdpr"===(r=r.toLowerCase())?r="max-dpr":"class"===r&&(o=i),n.push("".concat(r,"=").concat(i)))}));var i=document.createElement("link");i.rel="preconnect",i.href=e;var a=document.createElement("script");a.async=!0,a.defer=!0,a.src=n.join("&"),a.setAttribute("data-id","twicpics-script");var c=document.createElement("style");c.innerText=".twic-img--fade>img.".concat(o,"-done{opacity:1}"),document.head.appendChild(i),document.head.appendChild(a),document.head.appendChild(c)}},j=w;const T=h})(),o})()}));